version: '2.1'


services:
  mirror_c:
    image: mirror
    environment:
      - deps="postgresql,python3"
    expose:
      - "8080"

  client_c:
    build:
      context: ./Client
      dockerfile: Dockerfile
    healthcheck:
      test: ["CMD", "curl", "-f", "mirror_c:8080"]
      interval: 2s
      timeout: 3s
      retries: 20

